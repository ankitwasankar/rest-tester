requests:
  list:
    # ---------- PRODUCTS ----------
    # 1. GET a single product (id=1)
    - id: ABC1
      method: GET
      url: "https://fakestoreapi.com/products/1"
      headers: {}

    # 2. POST a new product – use category and title from ABC1
    - id: ABC2
      method: POST
      url: "https://fakestoreapi.com/products"
      headers:
        Content-Type: "application/json"
      body: |
        {
          "title": "New Product based on ${ABC1.Response.title}",
          "price": 29.99,
          "description": "A product created using data from product 1",
          "image": "https://i.pravatar.cc",
          "category": "${ABC1.Response.category}"
        }

    # 3. PUT update the product created in ABC2 – update title using ABC2 response
    - id: ABC3
      method: PUT
      url: "https://fakestoreapi.com/products/${ABC2.Response.id}"
      headers:
        Content-Type: "application/json"
      body: |
        {
          "title": "Updated - ${ABC2.Response.title}",
          "price": 39.99,
          "description": "Updated product description",
          "image": "https://i.pravatar.cc",
          "category": "${ABC1.Response.category}"
        }

    # 4. DELETE the product created in ABC2
    - id: ABC4
      method: DELETE
      url: "https://fakestoreapi.com/products/${ABC2.Response.id}"
      headers: {}

    # ---------- CARTS ----------
    # 5. GET all carts
    - id: ABC5
      method: GET
      url: "https://fakestoreapi.com/carts"
      headers: {}

    # 6. GET a single cart (cart id = 1)
    - id: ABC6
      method: GET
      url: "https://fakestoreapi.com/carts/1"
      headers: {}

    # 7. POST a new cart – use product id from ABC1
    - id: ABC7
      method: POST
      url: "https://fakestoreapi.com/carts"
      headers:
        Content-Type: "application/json"
      body: |
        {
          "userId": 1,
          "date": "2020-02-03",
          "products": [
            { "productId": "${ABC1.Response.id}", "quantity": 1 }
          ]
        }

    # 8. PUT update the cart created in ABC7 – change quantity
    - id: ABC8
      method: PUT
      url: "https://fakestoreapi.com/carts/${ABC7.Response.id}"
      headers:
        Content-Type: "application/json"
      body: |
        {
          "userId": 1,
          "date": "2020-02-10",
          "products": [
            { "productId": "${ABC1.Response.id}", "quantity": 2 }
          ]
        }

    # 9. DELETE the cart created in ABC7
    - id: ABC9
      method: DELETE
      url: "https://fakestoreapi.com/carts/${ABC7.Response.id}"
      headers: {}

    # ---------- USERS ----------
    # 10. GET all users
    - id: ABC10
      method: GET
      url: "https://fakestoreapi.com/users"
      headers: {}

    # 11. GET a single user (user id = 1)
    - id: ABC11
      method: GET
      url: "https://fakestoreapi.com/users/1"
      headers: {}

    # 12. POST a new user – use the username from ABC11 with a suffix
    - id: ABC12
      method: POST
      url: "https://fakestoreapi.com/users"
      headers:
        Content-Type: "application/json"
      body: |
        {
          "email": "newuser@example.com",
          "username": "${ABC11.Response.username}_new",
          "password": "password",
          "name": {
            "firstname": "John",
            "lastname": "Doe"
          },
          "address": {
            "city": "New City",
            "street": "123 New Street",
            "number": 100,
            "zipcode": "12345",
            "geolocation": {
              "lat": "0",
              "long": "0"
            }
          },
          "phone": "123-456-7890"
        }

    # 13. PUT update the user created in ABC12 – update username and details
    - id: ABC13
      method: PUT
      url: "https://fakestoreapi.com/users/${ABC12.Response.id}"
      headers:
        Content-Type: "application/json"
      body: |
        {
          "email": "updateduser@example.com",
          "username": "updated_${ABC12.Response.username}",
          "password": "newpassword",
          "name": {
            "firstname": "Jane",
            "lastname": "Doe"
          },
          "address": {
            "city": "Updated City",
            "street": "456 Updated Street",
            "number": 200,
            "zipcode": "54321",
            "geolocation": {
              "lat": "0",
              "long": "0"
            }
          },
          "phone": "987-654-3210"
        }

    # 14. DELETE the user created in ABC12
    - id: ABC14
      method: DELETE
      url: "https://fakestoreapi.com/users/${ABC12.Response.id}"
      headers: {}
